<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="css/newEntry.css">
</head>
<body>
  <%- include('../includes/navigation.ejs') %>
  
  <% if (customers.length > 0 && banks.length > 0) { %>
  <main class="new-entry">
    <section>
      <h3>Payment by Customer to Bank</h3>
      <form action="/general-customer" method="POST">
        <div class="single_entry">
          <label for="date">Date</label>
          <input type="date" name="date" id="date">
        </div>
        <div class="single_entry">
          <label for="customer">Customer</label>
          <select name="customer" id="customers">
            <% for(customer of customers) { %>
            <option value="<%= customer._id %>"><%= customer.customer_name %></option>
            <% } %>
          </select>
          <input type="hidden" value="<%= customers[0].customer_name %>" name="customerName" id="customerDocument">
        </div>
        <div class="single_entry">
          <label for="bank">Bank</label>
          <select name="bank" id="bank">
            <% for(bank of banks) { %>
            <option value="<%= bank._id %>"><%= bank.name %></option>
            <% } %>
          </select>
          <input type="hidden" value="<%= banks[0].name %>" name="bankName" id="bankDocument">
        </div>
        <div class="single_entry">
          <label for="amount">Amount</label>
          <input type="text" name="amount" step="0.01" id="amount" required>
        </div>
        <div class="single_entry">
          <button>Submit</button>
        </div>
      </form>
    </section>
  </main>
  <% } else { %>
    <h3 class="error">You haven't added banks or customers</h3>
  <% } %>

  <script src="scripts/payment.js"></script>
  <script src="scripts/date.js"></script>

<%- include('../includes/end.ejs') %>